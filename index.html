<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>æœŸæƒçŸ¥è¯†é—¯å…³å°æ¸¸æˆ</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Microsoft YaHei", sans-serif;
      background: #f5f7fb;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 960px;
      margin: 30px auto;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.06);
      padding: 20px 22px 30px;
    }
    h1 {
      text-align: center;
      margin-top: 0;
      margin-bottom: 6px;
      font-size: 26px;
    }
    .subtitle {
      text-align: center;
      color: #666;
      font-size: 14px;
      margin-bottom: 18px;
    }
    .hidden { display: none; }

    button {
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
    }
    .btn-primary {
      background: #4c7fff;
      color: #fff;
    }
    .btn-primary:hover { background: #3a6ae0; }
    .btn-secondary {
      background: #e4e9f5;
      color: #333;
    }
    .btn-secondary:hover { background: #d4ddf2; }

    .mode-grid {
      display: grid;
      grid-template-columns: 1.1fr 1.1fr;
      gap: 16px;
      margin-bottom: 10px;
    }
    .card {
      border-radius: 10px;
      background: #f7f8fd;
      padding: 14px 16px 16px;
    }
    .card h2 {
      margin: 0 0 8px;
      font-size: 18px;
    }
    .card p {
      margin: 0 0 8px;
      font-size: 13px;
      color: #555;
      line-height: 1.5;
    }
    .category-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 8px;
    }
    .cat-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #fff;
      border-radius: 8px;
      padding: 6px 10px;
      border: 1px solid #e0e4f0;
      font-size: 13px;
    }
    .cat-info {
      display: flex;
      flex-direction: column;
    }
    .cat-title {
      font-weight: 600;
      margin-bottom: 2px;
    }
    .cat-desc {
      font-size: 12px;
      color: #777;
    }
    .btn-group {
      display: flex;
      gap: 6px;
      flex-shrink: 0;
    }

    /* æ¸¸æˆç•Œé¢ */
    #game-screen-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      color: #555;
      margin-bottom: 10px;
    }
    #mode-tag {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 12px;
      background: #eef3ff;
      color: #4c7fff;
      margin-right: 6px;
    }
    #category-tag {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 12px;
      background: #e7faf2;
      color: #1c9c68;
    }

    #progress-bar {
      position: relative;
      width: 100%;
      height: 8px;
      background: #eceff7;
      border-radius: 999px;
      overflow: hidden;
      margin-bottom: 16px;
    }
    #progress-inner {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #4c7fff, #45c4ff);
      transition: width 0.3s ease;
    }

    #question-box {
      border-radius: 10px;
      background: #f7f8fd;
      padding: 14px 16px;
      margin-bottom: 16px;
    }
    #question-meta {
      font-size: 12px;
      color: #888;
      margin-bottom: 6px;
    }
    #question-text {
      font-size: 16px;
      line-height: 1.6;
    }

    #options {
      margin-bottom: 12px;
    }
    .option-btn {
      display: block;
      width: 100%;
      text-align: left;
      margin-bottom: 8px;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #d7dff0;
      background: #ffffff;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.2s, border-color 0.2s, transform 0.05s;
    }
    .option-btn:hover { background: #f2f5ff; }
    .option-btn.correct {
      background: #e5f8e8;
      border-color: #57c46a;
    }
    .option-btn.wrong {
      background: #ffe8e8;
      border-color: #ff6b6b;
    }
    .option-btn.disabled {
      opacity: 0.75;
      pointer-events: none;
    }

    #feedback {
      min-height: 40px;
      font-size: 14px;
      margin-bottom: 12px;
    }
    #feedback.correct { color: #218739; }
    #feedback.wrong { color: #c53030; }
    #feedback span.tag {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 6px;
      font-size: 12px;
      margin-right: 6px;
    }
    #feedback .tag-correct {
      background: #e5f8e8;
      color: #218739;
    }
    #feedback .tag-wrong {
      background: #ffe8e8;
      color: #c53030;
    }

    #control-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }

    #end-screen {
      text-align: center;
      margin-top: 12px;
    }
    #end-screen h2 { margin-top: 0; }

    @media (max-width: 720px) {
      .container {
        margin: 8px;
        padding: 14px;
      }
      .mode-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>æœŸæƒçŸ¥è¯†é—¯å…³</h1>
    <div class="subtitle">æ”¯æŒåˆ†ç±»ç»ƒä¹  Â· é—¯å…³æ¨¡å¼è®°å¿†è¿›åº¦</div>

    <!-- æ¨¡å¼é€‰æ‹©ç•Œé¢ -->
    <div id="mode-screen">
      <div class="mode-grid">
        <!-- é—¯å…³æ¨¡å¼ -->
        <div class="card">
          <h2>é—¯å…³æ¨¡å¼ ğŸ®</h2>
          <p>
            å›ºå®šé¢˜é‡ï¼ŒæŒ‰å…³å¡ä¾æ¬¡ä½œç­”ã€‚<br>
            æµè§ˆå™¨ä¼šè®°ä½ä½ åœ¨æ¯ä¸ªåˆ†ç±»çš„å½“å‰è¿›åº¦ï¼Œä¸‹æ¬¡æ‰“å¼€å¯ç›´æ¥ç»§ç»­ã€‚
          </p>
          <div class="category-list" id="challenge-category-list">
            <!-- JS æ¸²æŸ“åˆ†ç±»è¡Œ -->
          </div>
        </div>

        <!-- è‡ªç”±ç»ƒä¹ æ¨¡å¼ -->
        <div class="card">
          <h2>è‡ªç”±ç»ƒä¹ æ¨¡å¼ ğŸ§ </h2>
          <p>
            ä»æŸä¸€ç±»é¢˜éšæœºæŠ½é¢˜ï¼Œé€‚åˆèƒŒæ¦‚å¿µã€ç»ƒèŠ‚å¥ã€‚<br>
            ä¸è®°å½•åˆ†æ•°å’Œè¿›åº¦ï¼Œæƒ³åˆ·å¤šå°‘åˆ·å¤šå°‘ã€‚
          </p>
          <div class="category-list" id="practice-category-list">
            <!-- JS æ¸²æŸ“åˆ†ç±»è¡Œ -->
          </div>
        </div>
      </div>
      <p style="font-size:12px; color:#999; margin-top:6px;">
      </p>
    </div>

    <!-- æ¸¸æˆç•Œé¢ -->
    <div id="game-screen" class="hidden">
      <div id="game-screen-header">
        <div>
          <span id="mode-tag"></span>
          <span id="category-tag"></span>
          <span id="question-counter"></span>
        </div>
        <div id="score-area">
          å¾—åˆ†ï¼š<span id="score-text">0</span> /
          <span id="total-text">0</span>
        </div>
      </div>

      <div id="progress-bar">
        <div id="progress-inner"></div>
      </div>

      <div id="question-box">
        <div id="question-meta"></div>
        <div id="question-text"></div>
      </div>

      <div id="options"></div>

      <div id="feedback"></div>

      <div id="control-row">
        <button class="btn-secondary" id="back-btn">è¿”å›æ¨¡å¼é€‰æ‹©</button>
        <div>
          <button class="btn-secondary" id="restart-category-btn">æœ¬ç±»é‡æ¥</button>
          <button class="btn-primary" id="next-btn" disabled>ä¸‹ä¸€é¢˜ â–¶</button>
        </div>
      </div>

      <div id="end-screen" class="hidden">
        <h2>æœ¬åˆ†ç±»é—¯å…³ç»“æŸ ğŸ‰</h2>
        <p id="final-score"></p>
        <p style="font-size:13px; color:#555;">
          å¯ä»¥å›åˆ°æ¨¡å¼é€‰æ‹©ç•Œé¢ï¼Œæ¢ä¸€ä¸ªåˆ†ç±»æˆ–æ¢æˆè‡ªç”±ç»ƒä¹ æ¨¡å¼ç»§ç»­åˆ·é¢˜ã€‚
        </p>
      </div>
    </div>

  </div>

  <script>
    // ============== é¢˜åº“ï¼šå¯åœ¨è¿™é‡Œè‡ªç”±å¢åˆ æ”¹ ==============
    const QUESTION_BANK = {
      "åŸºç¡€é¢˜": [
        {
          "level": "åŸºç¡€",
          "topic": "è®¤è´­è®¤æ²½æ–¹å‘",
          "question": "åœ¨ A è‚¡å’Œå•†å“æœŸæƒä¸­ï¼Œé€šå¸¸å“ªç§æ“ä½œæ›´é€‚åˆâ€œç›´æ¥çœ‹æ¶¨æ ‡çš„ä»·æ ¼â€çš„ä¹°æ–¹ï¼Ÿ",
          "options": [
            "ä¹°å…¥è®¤è´­æœŸæƒï¼ˆä¹°CALLï¼‰",
            "ä¹°å…¥è®¤æ²½æœŸæƒï¼ˆä¹°PUTï¼‰",
            "å–å‡ºè®¤è´­æœŸæƒï¼ˆå–CALLï¼‰",
            "å–å‡ºè®¤æ²½æœŸæƒï¼ˆå–PUTï¼‰"
          ],
          "answer": 0,
          "explanation": "æœ€ç®€å•çš„åšå¤šæ–¹å‘ç­–ç•¥æ˜¯ä¹°å…¥è®¤è´­æœŸæƒï¼ˆä¹°CALLï¼‰ï¼Œæ–¹å‘å¯¹æ—¶ä¸Šæ¶¨ç©ºé—´ç†è®ºä¸Šä¸å°é¡¶ï¼Œæœ€å¤§äºæŸä¸ºä¹°å…¥æ—¶æ”¯ä»˜çš„æƒåˆ©é‡‘ã€‚"
        },
        {
          "level": "åŸºç¡€",
          "topic": "ä¹°æ–¹å–æ–¹é£é™©æ”¶ç›Š",
          "question": "å…³äºæœŸæƒä¹°æ–¹å’Œå–æ–¹çš„é£é™©æ”¶ç›Šç»“æ„ï¼Œä¸‹åˆ—è¯´æ³•æ›´æ¥è¿‘å®æˆ˜ï¼Ÿ",
          "options": [
            "ä¹°æ–¹æ”¶ç›Šæœ‰é™ã€äºæŸæ— é™ï¼›å–æ–¹æ”¶ç›Šæ— é™ã€äºæŸæœ‰é™",
            "ä¹°å–åŒæ–¹çš„æ”¶ç›Šå’Œé£é™©å®Œå…¨å¯¹ç§°",
            "ä¹°æ–¹æœ€å¤§äºæŸä¸ºæƒåˆ©é‡‘ï¼Œå–æ–¹æœ€å¤§æ”¶ç›Šä¸ºæƒåˆ©é‡‘",
            "ä¹°æ–¹å’Œå–æ–¹éƒ½ä¸éœ€è¦ä¿è¯é‡‘"
          ],
          "answer": 2,
          "explanation": "æ ‡å‡†åœºå†…æœŸæƒä¸­ï¼Œä¹°æ–¹æœ€å¤§äºæŸå°±æ˜¯æƒåˆ©é‡‘ï¼Œæ”¶ç›Šå‘ä¸Šï¼ˆæˆ–å‘ä¸‹ï¼‰ä¸å°é¡¶ï¼›å–æ–¹åˆšå¥½ç›¸åï¼Œæœ€å¤§æ”¶ç›Šæ˜¯æƒåˆ©é‡‘ï¼Œå¯èƒ½é¢ä¸´è¾ƒå¤§çš„æµ®äºï¼Œå› æ­¤éœ€è¦ç¼´çº³ä¿è¯é‡‘ã€‚"
        },
        {
          "level": "åŸºç¡€",
          "topic": "æ—¶é—´ä»·å€¼",
          "question": "ä»¥ä¸‹å“ªç§æƒ…å†µæ›´å®¹æ˜“å¯¼è‡´â€œä½ æ–¹å‘çœ‹å¯¹ï¼Œä½†æœŸæƒæ¶¨å¾—ä¸å¤šç”šè‡³ä¸æ¶¨â€ï¼Ÿ",
          "options": [
            "ä¹°å…¥è¿˜æœ‰è¾ƒé•¿å‰©ä½™æœŸé™çš„æœŸæƒï¼Œæ ‡çš„çŸ­æ—¶é—´å†…å¤§å¹…æ³¢åŠ¨",
            "ä¹°å…¥ä¸´è¿‘åˆ°æœŸçš„æ·±åº¦å®å€¼æœŸæƒï¼Œæ ‡çš„å°å¹…æ³¢åŠ¨",
            "ä¹°å…¥ä¸´è¿‘åˆ°æœŸçš„è™šå€¼æœŸæƒï¼Œæ ‡çš„ç¼“æ…¢ã€å°å¹…èµ°å‘ä½ é¢„æœŸçš„æ–¹å‘",
            "åªæŒæœ‰æ ‡çš„ç°è´§ï¼Œä¸å‚ä¸æœŸæƒ"
          ],
          "answer": 2,
          "explanation": "çŸ­æœŸæœŸæƒæ—¶é—´ä»·å€¼è¡°å‡éå¸¸å¿«ï¼Œå¦‚æœæ ‡çš„åªæ˜¯æ…¢æ…¢æŒªåŠ¨ã€æ³¢åŠ¨ç‡å›è½ï¼Œæ—¶é—´æŸè€—å¯èƒ½æŠµæ¶ˆæ–¹å‘å¸¦æ¥çš„æ”¶ç›Šï¼Œå¯¼è‡´â€œæ–¹å‘å¯¹äº†ï¼Œé’±æ²¡èµšåˆ°â€ã€‚"
        },
        {
          "level": "åŸºç¡€",
          "topic": "Delta ç›´è§‰",
          "question": "å…³äºæœŸæƒçš„ Deltaï¼Œä»¥ä¸‹å®æˆ˜ä¸­çš„ç†è§£æ›´åˆé€‚çš„æ˜¯ï¼Ÿ",
          "options": [
            "Delta åªè·Ÿæ—¶é—´æœ‰å…³ï¼Œå’Œæ ‡çš„ä»·æ ¼æ— å…³",
            "Delta ä»£è¡¨æœŸæƒä»·æ ¼å¯¹æ ‡çš„ä»·æ ¼å°å¹…å˜åŠ¨çš„æ•æ„Ÿåº¦ï¼Œè¿‘ä¼¼ç­‰äºâ€œåˆçº¦ç›¸å½“äºå¤šå°‘ä»½æ ‡çš„å¤´å¯¸â€",
            "Delta æ°¸è¿œç­‰äº 1",
            "Delta è¶Šå¤§ï¼Œè¯´æ˜æœŸæƒè¶Šä¾¿å®œ"
          ],
          "answer": 1,
          "explanation": "Delta æ˜¯æœ€å¸¸ç”¨çš„å¸Œè…Šå­—æ¯ä¹‹ä¸€ï¼Œå¯ä»¥ç†è§£ä¸ºâ€œæ ‡çš„æ¶¨ 1 ä¸ªå•ä½ï¼ŒæœŸæƒä»·æ ¼å¤§çº¦å˜åŠ¨å¤šå°‘â€ï¼›åŒæ—¶ä¹Ÿå¯ä»¥ç”¨æ¥ä¼°ç®—æœŸæƒå¤´å¯¸ç­‰æ•ˆçš„æ ‡çš„æŒä»“è§„æ¨¡ã€‚"
        },
        {
          "level": "åŸºç¡€",
          "topic": "Gamma ç›´è§‰",
          "question": "Gamma æ›´æ¥è¿‘ä¸‹é¢å“ªç§å®æˆ˜ç†è§£ï¼Ÿ",
          "options": [
            "Gamma æ˜¯æ—¶é—´ä»·å€¼çš„åˆ«å",
            "Gamma æè¿°çš„æ˜¯ Delta å¯¹æ ‡çš„ä»·æ ¼å˜åŠ¨çš„æ•æ„Ÿåº¦ï¼ŒGamma é«˜æ—¶ Delta å˜åŒ–æ›´å¿«",
            "Gamma åªå’Œéšå«æ³¢åŠ¨ç‡æœ‰å…³ï¼Œå’Œä»·æ ¼æ— å…³",
            "Gamma ä¸æœŸæƒäº¤æ˜“æ²¡æœ‰ä»»ä½•å…³ç³»"
          ],
          "answer": 1,
          "explanation": "Gamma æ˜¯ Delta çš„å˜åŒ–ç‡ï¼Œåæ˜ å½“æ ‡çš„ä»·æ ¼å˜åŠ¨æ—¶ Delta ä¼šå˜å¤šå°‘ã€‚ä¸´è¿‘åˆ°æœŸã€å¹³å€¼é™„è¿‘çš„æœŸæƒ Gamma å¾€å¾€è¾ƒé«˜ï¼ŒDelta å¯¹ä»·æ ¼éå¸¸æ•æ„Ÿã€‚"
        },
        {
          "level": "åŸºç¡€",
          "topic": "Theta æ—¶é—´æŸè€—",
          "question": "å…³äº Thetaï¼ˆæ—¶é—´ä»·å€¼è¡°å‡ï¼‰ï¼Œä¸‹é¢å“ªå¥è¯æ›´è´´è¿‘å®æˆ˜ï¼Ÿ",
          "options": [
            "Theta è¶Šå¤§ï¼Œè¯´æ˜æœŸæƒä¸€å®šè¶Šä¾¿å®œ",
            "Theta ä¸ºè´Ÿé€šå¸¸æ„å‘³ç€ï¼šåœ¨å…¶ä»–æ¡ä»¶ä¸å˜æ—¶ï¼Œæ¯è¿‡ä¸€å¤©æƒåˆ©é‡‘éƒ½ä¼šå°‘ä¸€ç‚¹",
            "Theta åªåœ¨åˆ°æœŸæ—¥æ‰ä¼šèµ·ä½œç”¨",
            "Theta ä¸å‰©ä½™æœŸé™æ— å…³"
          ],
          "answer": 1,
          "explanation": "å¯¹ä¹°æ–¹æ¥è¯´ï¼ŒTheta é€šå¸¸ä¸ºè´Ÿï¼Œæ„å‘³ç€åœ¨ä»·æ ¼ã€æ³¢åŠ¨ç‡ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ—¶é—´æµé€æœ¬èº«ä¼šè®©æœŸæƒä»·æ ¼é€æ­¥ç¼©æ°´ã€‚"
        }
      ],
      "ç­–ç•¥é¢˜": [
        {
          "level": "ç­–ç•¥",
          "topic": "å¤‡å…‘å¼€ä»“",
          "question": "åœ¨ä¸Šè¯50ETFæœŸæƒä¸­ï¼Œå…¸å‹çš„â€œå¤‡å…‘å¼€ä»“â€æ“ä½œæ˜¯å“ªä¸€ç§ï¼Ÿ",
          "options": [
            "æ²¡æœ‰ä»»ä½•ç°è´§ï¼Œç›´æ¥å–å‡ºå¤šå¼ è®¤è´­æœŸæƒæ”¶æƒåˆ©é‡‘",
            "æŒæœ‰ ETF ç°è´§çš„å‰æä¸‹ï¼Œå–å‡ºç›¸åº”æ•°é‡çš„è®¤è´­æœŸæƒ",
            "å…ˆå–ç©º ETFï¼Œç„¶åä¹°å…¥è®¤è´­æœŸæƒä¿æŠ¤",
            "åŒæ—¶ä¹°å…¥è®¤è´­å’Œè®¤æ²½æœŸæƒæ„æˆè·¨å¼"
          ],
          "answer": 1,
          "explanation": "å¤‡å…‘å¼€ä»“çš„æ ¸å¿ƒæ˜¯â€œæœ‰åº•ä»“ + å– CALLâ€ï¼Œç”¨æŒæœ‰çš„ç°è´§æ¥è¦†ç›–è¢«è¡Œæƒæ—¶çš„äº¤å‰²ä¹‰åŠ¡ï¼Œæ¢å–ç¨³å®šçš„æƒåˆ©é‡‘æ”¶å…¥ã€‚"
        },
        {
          "level": "ç­–ç•¥",
          "topic": "ç‰›å¸‚ä»·å·®",
          "question": "ä¹°æ–¹æ„é€ ç‰›å¸‚ä»·å·®ï¼ˆBull Call Spreadï¼‰æ—¶ï¼Œä¸€èˆ¬å¦‚ä½•æ­å»ºï¼Ÿ",
          "options": [
            "ä¹°å…¥è¾ƒä½æ‰§è¡Œä»·çš„è®¤è´­ï¼ŒåŒæ—¶å–å‡ºè¾ƒé«˜æ‰§è¡Œä»·çš„è®¤è´­",
            "ä¹°å…¥è¾ƒé«˜æ‰§è¡Œä»·çš„è®¤è´­ï¼ŒåŒæ—¶å–å‡ºè¾ƒä½æ‰§è¡Œä»·çš„è®¤è´­",
            "ä¹°å…¥è¾ƒé«˜æ‰§è¡Œä»·çš„è®¤æ²½ï¼ŒåŒæ—¶å–å‡ºè¾ƒä½æ‰§è¡Œä»·çš„è®¤æ²½",
            "åŒæ—¶ä¹°å…¥è®¤è´­å’Œè®¤æ²½ï¼ŒæŠ¼æ³¨å¤§æ³¢åŠ¨"
          ],
          "answer": 0,
          "explanation": "ç‰›å¸‚ä»·å·® BUY ç«¯ï¼šä¹°ä½æ‰§è¡Œä»· CALLã€å–é«˜æ‰§è¡Œä»· CALLï¼Œç”¨æ”¾å¼ƒéƒ¨åˆ†ä¸Šæ¶¨ç©ºé—´æ¢å–åˆå§‹æƒåˆ©é‡‘å‡å°‘ï¼Œé€‚åˆâ€œæ¸©å’Œçœ‹æ¶¨â€ã€‚"
        },
        {
          "level": "ç­–ç•¥",
          "topic": "æ¯”ä¾‹ä»·å·®",
          "question": "åœ¨â€œæ¯”ä¾‹è®¤è´­ä»·å·®â€ç­–ç•¥ä¸­ï¼Œä¸‹åˆ—å“ªç§ç»“æ„æ›´å…¸å‹ï¼Ÿ",
          "options": [
            "ä¹°å…¥ 1 å¼ è®¤è´­æœŸæƒï¼ŒåŒæ—¶å–å‡º 2 å¼ æ›´é«˜æ‰§è¡Œä»·çš„è®¤è´­æœŸæƒ",
            "å–å‡º 1 å¼ è®¤è´­æœŸæƒï¼ŒåŒæ—¶ä¹°å…¥ 2 å¼ æ›´é«˜æ‰§è¡Œä»·çš„è®¤è´­æœŸæƒ",
            "ä¹°å…¥ 1 å¼ è®¤æ²½æœŸæƒï¼ŒåŒæ—¶å–å‡º 2 å¼ æ›´ä½æ‰§è¡Œä»·çš„è®¤æ²½æœŸæƒ",
            "ä¹°å…¥è®¤è´­å’Œè®¤æ²½å„ä¸€å¼ "
          ],
          "answer": 0,
          "explanation": "æ¯”ä¾‹è®¤è´­ä»·å·®å¸¸è§å½¢å¼æ˜¯â€œä¹° 1 å– 2â€ï¼Œåˆå§‹å¯èƒ½æ”¶åˆ°å‡€æƒåˆ©é‡‘ï¼Œä½†å½“æ ‡çš„å¤§å¹…ä¸Šæ¶¨è¶…è¿‡ç©ºå¤´è…¿åŒºé—´æ—¶ï¼Œç»“æ„æœ‰å¯èƒ½å˜æˆå‡€ç©ºå¤´ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„æç«¯è¡Œæƒ…é£é™©ã€‚"
        },
        {
          "level": "ç­–ç•¥",
          "topic": "å®½è·¨ä¸é“é¹°",
          "question": "â€œå®½è·¨å¼å–æ–¹ç­–ç•¥â€ï¼ˆå–å‡º OTM CALL + å–å‡º OTM PUTï¼‰ä¸â€œé“é¹°â€ç›¸æ¯”ï¼Œé“é¹°å¤šäº†ä¸€æ­¥ä»€ä¹ˆæ“ä½œæ¥é™åˆ¶æç«¯é£é™©ï¼Ÿ",
          "options": [
            "å†ä¹°å…¥æ›´æ·±åº¦è™šå€¼çš„è®¤è´­å’Œè®¤æ²½ï¼Œå½¢æˆä¸¤ä¸ªä»·å·®",
            "å¢åŠ æ›´å¤šå–å‡ºè…¿ï¼Œæé«˜æƒåˆ©é‡‘æ”¶å…¥",
            "åªåœ¨ä¸€ä¸ªæ–¹å‘åŠ ä¹°æœŸæƒï¼Œå¦ä¸€ä¸ªæ–¹å‘ä¸å¤„ç†",
            "æŠŠåˆ°æœŸæ—¥æ”¹å¾—æ›´é•¿"
          ],
          "answer": 0,
          "explanation": "é“é¹°æœ¬è´¨æ˜¯â€œå–ä¸€ä¸ªå®½è·¨ + åœ¨æ›´è¿œå¤„ä¹°ä¸€ä¸ªå®½è·¨â€ï¼Œé€šè¿‡åœ¨ä¸¤ä¾§å„åŠ ä¸€è…¿ä¹°æ–¹ä¿æŠ¤ï¼ŒæŠŠæç«¯è¡Œæƒ…ä¸‹çš„äºæŸå°ä½ï¼Œä»£ä»·æ˜¯æ”¶åˆ°çš„å‡€æƒåˆ©é‡‘å˜å°‘ã€‚"
        },
        {
          "level": "ç­–ç•¥",
          "topic": "ä¿æŠ¤æ€§PUT",
          "question": "æ‰€è°“â€œä¿æŠ¤æ€§ PUTâ€ï¼Œæ›´æ¥è¿‘ä»¥ä¸‹å“ªç§ç»„åˆï¼Ÿ",
          "options": [
            "ç©ºä»“ + ä¹°å…¥è®¤æ²½æœŸæƒ",
            "å¤šå¤´ç°è´§ + ä¹°å…¥è®¤æ²½æœŸæƒ",
            "å¤šå¤´ç°è´§ + å–å‡ºè®¤è´­æœŸæƒ",
            "å–å‡ºè®¤è´­ + å–å‡ºè®¤æ²½"
          ],
          "answer": 1,
          "explanation": "ä¿æŠ¤æ€§ PUT = ç°è´§å¤šå¤´ + ä¹°å…¥è®¤æ²½ï¼Œç›¸å½“äºç»™ç°è´§ä¹°äº†ä¸€ä»½ä»·æ ¼ä¿é™©ï¼Œä¸‹è·Œæ—¶ç”± PUT èµ”ä»˜ï¼Œä¸Šæ¶¨åˆ™ç”±ç°è´§å‚ä¸ã€‚"
        },
        {
          "level": "ç­–ç•¥",
          "topic": "å®½è·¨ä¹°æ–¹",
          "question": "ä½ è®¤ä¸ºæœªæ¥ä¸€æ®µæ—¶é—´è¡Œæƒ…ä¼šæœ‰å¤§æ³¢åŠ¨ï¼Œä½†å¯èƒ½ä¸æ˜¯é©¬ä¸Šå‘ç”Ÿï¼Œæƒ³é™ä½æˆæœ¬ï¼Œå¯è€ƒè™‘çš„â€œå®½è·¨ä¹°æ–¹â€å¤§è‡´æ˜¯ä»€ä¹ˆç»“æ„ï¼Ÿ",
          "options": [
            "ä¹°å…¥è¾ƒæ·±åº¦è™šå€¼çš„è®¤è´­å’Œè®¤æ²½ï¼Œä¸¤è¾¹éƒ½ç¦»å½“å‰ä»·æ›´è¿œ",
            "åªä¹°å…¥å¹³å€¼è®¤è´­æœŸæƒ",
            "åªå–å‡ºè™šå€¼è®¤æ²½æœŸæƒ",
            "ä¹°å…¥å¹³å€¼è®¤è´­ã€å–å‡ºè™šå€¼è®¤æ²½"
          ],
          "answer": 0,
          "explanation": "å®½è·¨ BUYï¼šä¹° OTM CALL + ä¹° OTM PUTï¼Œç›¸æ¯”å¹³å€¼è·¨å¼æ›´ä¾¿å®œï¼Œä½†éœ€è¦æ›´å¤§çš„æ³¢åŠ¨å¹…åº¦æ‰å¯èƒ½èµšé’±ã€‚"
        }
      ],
      "å®æˆ˜é¢˜": [
        {
          "level": "å®æˆ˜",
          "topic": "é”å®šç›ˆåˆ©",
          "question": "ä½ ä¹°å…¥ä¸€å¼ è®¤è´­æœŸæƒåï¼Œæ ‡çš„å·²å¤§æ¶¨ï¼ŒæœŸæƒä»·æ ¼ç¿»å€ã€‚æ­¤æ—¶ä½ æ‹…å¿ƒå›æ’¤ï¼Œå¸Œæœ›â€œé”ä½éƒ¨åˆ†ç›ˆåˆ©ä½†åˆä¿ç•™ä¸€å®šç»§ç»­ä¸Šæ¶¨ç©ºé—´â€ï¼Œä¸‹åˆ—å“ªç§æ“ä½œæ›´æ¥è¿‘è¿™ä¸ªæ€è·¯ï¼Ÿ",
          "options": [
            "ç›´æ¥å¹³ä»“å–å‡ºåŸæ¥çš„è®¤è´­æœŸæƒï¼Œå®Œå…¨ç¦»åœº",
            "å†ä¹°å…¥ä¸€å¼ æ›´é«˜æ‰§è¡Œä»·çš„è®¤è´­æœŸæƒï¼ŒåŠ ç åšå¤š",
            "åœ¨åŸæœ‰å¤šå¤´è®¤è´­çš„åŸºç¡€ä¸Šï¼Œå–å‡ºä¸€å¼ æ›´é«˜æ‰§è¡Œä»·çš„è®¤è´­æœŸæƒï¼Œæ„æˆç‰›å¸‚ä»·å·®",
            "å–å‡ºå¤šå¼ è®¤æ²½æœŸæƒï¼Œèµšæ›´å¤šæƒåˆ©é‡‘"
          ],
          "answer": 2,
          "explanation": "åœ¨å·²æœ‰å¤šå¤´ CALL ä¸ŠåŠ ä¸€å¼ æ›´é«˜æ‰§è¡Œä»·ç©ºå¤´ CALLï¼Œä¼šæŠŠå¤´å¯¸å˜æˆç‰›å¸‚ä»·å·®ï¼Œå‘ä¸Šæ”¶ç›Šè¢«å°é¡¶ï¼Œä½†å¯ä»¥éƒ¨åˆ†é”å®šç°åœ¨çš„æµ®ç›ˆã€‚"
        },
        {
          "level": "å®æˆ˜",
          "topic": "è·Œç ´æ”¯æ’‘çš„å¤„ç†",
          "question": "ä½ å–å‡ºäº†è‹¥å¹²å¼ è™šå€¼è®¤æ²½æœŸæƒï¼ˆå–PUTï¼‰æ”¶æƒåˆ©é‡‘ï¼Œç»“æœæ ‡çš„å¿«é€Ÿè·Œç ´ä½ åŸå…ˆçœ‹å¥½çš„æ”¯æ’‘ä½ã€‚æ­¤æ—¶ä¸‹åˆ—å“ªç§åšæ³•æ›´åå‘é£é™©æ§åˆ¶ï¼Ÿ",
          "options": [
            "ç»§ç»­åŠ å€å–å‡ºæ›´å¤šè™šå€¼è®¤æ²½ï¼ŒæŠŠæˆæœ¬æ‘Šä½",
            "ä¸åšä»»ä½•å¤„ç†ï¼Œç›´åˆ°ä¿è¯é‡‘ä¸è¶³è¢«å¼ºå¹³",
            "ä¹°å…¥ç›¸åŒæˆ–æ›´è™šå€¼çš„è®¤æ²½æœŸæƒï¼Œå½¢æˆç†Šå¸‚ä»·å·®ï¼Œæˆ–ç›´æ¥å‡ä»“å¹³ä»“",
            "æŠŠæ‰€æœ‰èµ„é‡‘éƒ½è¡¥å……åˆ°æœŸè´§è´¦æˆ·é‡Œï¼ŒåŠ å¤§æ æ†"
          ],
          "answer": 2,
          "explanation": "å½“æ”¯æ’‘è¢«æœ‰æ•ˆè·Œç ´ã€èµ°åŠ¿å’Œé¢„æœŸç›¸åæ—¶ï¼Œä¼˜å…ˆè€ƒè™‘æ§åˆ¶é£é™©ï¼šå¯ä»¥ä¹°å…¥ä¿æŠ¤è…¿æŠŠè£¸å– PUT å˜æˆä»·å·®ï¼Œå°ä½æœ€å¤§äºæŸï¼›æˆ–è€…ç›´æ¥å‡ä»“/å¹³ä»“ï¼Œå…ˆä¿æŠ¤è´¦æˆ·å®‰å…¨ã€‚"
        },
        {
          "level": "å®æˆ˜",
          "topic": "Gamma å¯¹å†²",
          "question": "ä½ åšäº†ä¸€ä¸ªæ¥è¿‘å¹³å€¼ã€ä¸´è¿‘åˆ°æœŸçš„ BUY è·¨å¼ï¼ˆä¹°CALL+ä¹°PUTï¼‰ï¼Œå¹¶å°è¯•ç”¨æ ‡çš„åš Gamma Scalpingã€‚ä»¥ä¸‹å“ªç§æè¿°æ›´æ¥è¿‘ä½ éœ€è¦é¢å¯¹çš„ç°å®ï¼Ÿ",
          "options": [
            "Gamma å¾ˆä½ï¼ŒDelta åŸºæœ¬ä¸å˜ï¼Œå¯ä»¥å¾ˆä¹…ä¸è°ƒä»“",
            "Gamma å¾ˆé«˜ï¼Œæ ‡çš„å°å¹…æ³¢åŠ¨å°±ä¼šè®© Delta å¿«é€Ÿåç¦»ï¼Œéœ€è¦æ›´é¢‘ç¹å°æ­¥å¯¹å†²",
            "åªè¦æ–¹å‘çŒœå¯¹ä¸€æ¬¡ï¼Œå°±æ°¸è¿œä¸ç”¨å†è°ƒä»“",
            "Gamma ä¸å‰©ä½™æœŸé™æ— å…³ï¼Œåªçœ‹ä¸»è§‚åˆ¤æ–­"
          ],
          "answer": 1,
          "explanation": "ä¸´è¿‘åˆ°æœŸä¸”æ¥è¿‘å¹³å€¼çš„æœŸæƒ Gamma è¾ƒé«˜ï¼Œæ ‡çš„ç¨å¾®ä¸€åŠ¨ï¼ŒDelta å°±ä¼šæ˜æ˜¾å˜åŒ–ï¼Œåš Gamma Scalping æ—¶å¾€å¾€éœ€è¦æ›´ç»†è‡´ã€æ›´é¢‘ç¹çš„è°ƒä»“ã€‚"
        },
        {
          "level": "å®æˆ˜",
          "topic": "è°ƒæ•´ Delta",
          "question": "ä½ ç›®å‰æ€»ä½“ Delta æ˜æ˜¾ä¸ºæ­£ï¼ˆæ•´ä½“åå¤šï¼‰ï¼Œä½†çŸ­æœŸå¯¹è¡Œæƒ…æœ‰äº›çŠ¹è±«ï¼Œå¸Œæœ›æŠŠ Delta è°ƒå¹³æˆ–ç•¥å¾®å‡å°ï¼Œè€Œä¸æƒ³å®Œå…¨å¹³æ‰æ‰€æœ‰å¤šå¤´æœŸæƒï¼Œä¸‹åˆ—å“ªç§æ€è·¯æ›´åˆç†ï¼Ÿ",
          "options": [
            "é¢å¤–å†ä¹°å…¥ä¸€æ‰¹è®¤è´­æœŸæƒ",
            "å–å‡ºä¸€éƒ¨åˆ†è®¤è´­æœŸæƒï¼Œæˆ–ä¹°å…¥å°‘é‡è®¤æ²½æœŸæƒï¼Œå¯¹å†²éƒ¨åˆ† Delta",
            "ç«‹åˆ»æŠŠæ‰€æœ‰æŒä»“å…¨éƒ¨å¹³æ‰ï¼Œé‡æ–°å¼€å§‹",
            "åªåœ¨æœŸè´§ä¸ŠåŠ ä»“åšå¤š"
          ],
          "answer": 1,
          "explanation": "å¦‚æœæƒ³æ¸©å’Œåœ°æŠŠç»„åˆ Delta é™ä¸‹æ¥ï¼Œå¯ä»¥é€šè¿‡å–å‡ºéƒ¨åˆ†å¤šå¤´è®¤è´­ã€ä¹°å…¥ä¸€å®šæ•°é‡è®¤æ²½ï¼Œæˆ–è€…åœ¨æœŸè´§/ç°è´§ä¸Šåšéƒ¨åˆ†å¯¹å†²ï¼Œè€Œä¸æ˜¯ç®€å•â€œç å…‰ä¸€åˆ‡â€ã€‚"
        },
        {
          "level": "å®æˆ˜",
          "topic": "çŸ­å‘¨æœŸå‘¨æƒ",
          "question": "å‘¨åº¦æœŸæƒï¼ˆå‘¨æƒï¼‰åœ¨å®æˆ˜ä¸­çš„ä¸»è¦ç‰¹ç‚¹ï¼Œä¸‹åˆ—å“ªé¡¹æ›´æ¥è¿‘ï¼Ÿ",
          "options": [
            "æ—¶é—´ä»·å€¼è¡°å‡æ…¢ï¼Œé€‚åˆé•¿æœŸæŒæœ‰",
            "Gamma å’Œ Theta éƒ½æ¯”è¾ƒæ¸©å’Œ",
            "åˆ°æœŸå¿«ï¼ŒGamma é«˜ã€Theta ä¹Ÿå¤§ï¼Œå¯¹æ–¹å‘å’ŒèŠ‚å¥è¦æ±‚æ›´é«˜",
            "åªèƒ½ç”¨æ¥åšå¥—ä¿ï¼Œä¸èƒ½æŠ•æœº"
          ],
          "answer": 2,
          "explanation": "å‘¨æƒå‰©ä½™æœŸé™çŸ­ï¼Œæ—¶é—´ä»·å€¼æ¯å¤©éƒ½åœ¨å¿«é€Ÿè¡°å‡ï¼ŒåŒæ—¶å¹³å€¼é™„è¿‘ Gamma è¾ƒé«˜ï¼Œå¯¹æ–¹å‘ã€æ³¢åŠ¨å’ŒèŠ‚å¥çš„è¦æ±‚éƒ½æ›´é«˜ã€‚"
        }
      ],
      "å•†å“æœŸæƒ": [
        {
          "level": "å•†å“æœŸæƒ",
          "topic": "æœŸè´§æœŸæƒæ ‡çš„",
          "question": "ä»¥ä¸‹å“ªç§å¯¹ä¸­å›½å•†å“æœŸæƒæ ‡çš„çš„æè¿°æ›´å‡†ç¡®ï¼Ÿ",
          "options": [
            "æ ‡çš„æ˜¯ç›¸åº”å•†å“çš„ç°è´§å³æ—¶ä»·æ ¼",
            "æ ‡çš„æ˜¯äº¤æ˜“æ‰€æŒ‡å®šçš„å•†å“æœŸè´§åˆçº¦ï¼Œä¾‹å¦‚è±†ç²•æœŸè´§ã€æ²ªé“œæœŸè´§çš„æŸä¸ªåˆçº¦",
            "æ ‡çš„æ˜¯å›½å¤–æŸä¸ªæŒ‡æ•°ä»·æ ¼",
            "æ ‡çš„æ˜¯äººæ°‘å¸å…‘ç¾å…ƒæ±‡ç‡"
          ],
          "answer": 1,
          "explanation": "å›½å†…å•†å“æœŸæƒæœ¬è´¨ä¸Šæ˜¯â€œæœŸè´§æœŸæƒâ€ï¼Œæ ‡çš„æ˜¯äº¤æ˜“æ‰€æŒ‡å®šçš„æœŸè´§åˆçº¦ï¼Œå¦‚è±†ç²•æœŸè´§æŸä¸€åˆçº¦ã€æ²ªé“œæœŸè´§æŸä¸€åˆçº¦ã€‚"
        },
        {
          "level": "å•†å“æœŸæƒ",
          "topic": "ç»“ç®—ä»·ä¸æ”¶ç›˜ä»·",
          "question": "åœ¨å•†å“æœŸæƒåˆ°æœŸæ—¥ï¼ŒæœŸæƒç»“ç®—ä»·å€¼é€šå¸¸æ˜¯æ ¹æ®å“ªä¸ªä»·æ ¼æ¥è®¡ç®—æ›´ä¸ºå¸¸è§ï¼Ÿ",
          "options": [
            "æœŸè´§åˆçº¦å…¨å¤©æœ€é«˜ä»·æˆ–æœ€ä½ä»·",
            "éšæ„æŠ½å–æŸä¸€ä¸ªæˆäº¤ä»·",
            "äº¤æ˜“æ‰€è§„åˆ™è§„å®šçš„â€œæœŸè´§ç»“ç®—ä»·â€æˆ–ç‰¹å®šæ—¶æ®µçš„åŠ æƒå¹³å‡ä»·",
            "å½“å¤©ç¬¬ä¸€ä¸ªæˆäº¤ä»·"
          ],
          "answer": 2,
          "explanation": "å•†å“æœŸæƒåˆ°æœŸçš„ç»“ç®—ä»·å€¼é€šå¸¸å‚è€ƒæœŸè´§åˆçº¦çš„ç»“ç®—ä»·ï¼Œæˆ–æŒ‡å®šæ—¶æ®µçš„åŠ æƒå¹³å‡ä»·ï¼Œè®¡ç®—æ–¹å¼åœ¨äº¤æ˜“æ‰€è§„åˆ™ä¸­äº‹å…ˆå†™æ˜ï¼Œå¹¶ä¸ç­‰äºç®€å•çš„æ”¶ç›˜æœ€åä¸€ç¬”æˆäº¤ã€‚"
        },
        {
          "level": "å•†å“æœŸæƒ",
          "topic": "éšå«æ³¢åŠ¨ç‡å®æˆ˜å½±å“",
          "question": "å…³äºå•†å“æœŸæƒçš„éšå«æ³¢åŠ¨ç‡ï¼ˆIVï¼‰ï¼Œä»¥ä¸‹å“ªç§è¯´æ³•æ›´æ¥è¿‘å®æˆ˜ï¼Ÿ",
          "options": [
            "IV è¶Šé«˜æœŸæƒè¶Šä¾¿å®œï¼Œé€‚åˆä¹°å…¥",
            "IV è¶Šä½æœŸæƒè¶Šè´µï¼Œé€‚åˆå–å‡º",
            "IV é«˜ä½æœ¬èº«ä¸ä»£è¡¨æ–¹å‘ï¼Œä½†ä¼šæå¤§å½±å“æƒåˆ©é‡‘æ°´å¹³å’Œæ—¶é—´ä»·å€¼",
            "åªè¦çœ‹æ ‡çš„ K çº¿ï¼Œä¸ç”¨å…³å¿ƒ IV"
          ],
          "answer": 2,
          "explanation": "éšå«æ³¢åŠ¨ç‡åæ˜ å¸‚åœºå¯¹æœªæ¥æ³¢åŠ¨çš„å®šä»·ï¼ŒIV é«˜æ—¶æƒåˆ©é‡‘åè´µï¼ŒIV ä½æ—¶æƒåˆ©é‡‘åä¾¿å®œï¼›ä½†å®ƒæœ¬èº«å¹¶ä¸ç›´æ¥å‘Šè¯‰ä½ ä»·æ ¼æ˜¯æ¶¨è¿˜æ˜¯è·Œã€‚"
        },
        {
          "level": "å•†å“æœŸæƒ",
          "topic": "ä¸»åŠ›åˆçº¦åˆ‡æ¢",
          "question": "åœ¨å•†å“æœŸè´§æœŸæƒäº¤æ˜“ä¸­ï¼Œä¸‹åˆ—å“ªç§åšæ³•æ›´æœ‰åˆ©äºé¿å…â€œä¸»åŠ›åˆçº¦åˆ‡æ¢â€å¸¦æ¥çš„æµåŠ¨æ€§å’Œå®šä»·é—®é¢˜ï¼Ÿ",
          "options": [
            "æ°¸è¿œåªåšæœ€è¿œæœˆçš„æœŸè´§æœŸæƒ",
            "å®Œå…¨ä¸çœ‹åˆçº¦æŒä»“é‡å’Œæˆäº¤é‡",
            "å…³æ³¨æœŸè´§åˆçº¦çš„æŒä»“é‡å’Œæˆäº¤é‡å˜åŒ–ï¼Œé€‚æ—¶æŠŠå¤´å¯¸ä»è€ä¸»åŠ›æ»šåŠ¨åˆ°æ–°ä¸»åŠ›åˆçº¦å¯¹åº”çš„æœŸæƒ",
            "åªåšæœŸæƒï¼Œä¸å…³å¿ƒæœŸè´§åˆçº¦æ˜¯å“ªä¸€æœˆ"
          ],
          "answer": 2,
          "explanation": "å•†å“æœŸè´§æœ‰ä¸»åŠ›åˆçº¦åˆ‡æ¢çš„èŠ‚å¥ï¼ŒæœŸæƒæ ‡çš„åˆçº¦ä¹Ÿä¼šéšä¹‹å˜åŒ–ï¼Œå®æˆ˜ä¸­éœ€è¦å…³æ³¨æœŸè´§åˆçº¦çš„æŒä»“å’Œæˆäº¤ï¼ŒæŒ‰éœ€æ»šåŠ¨å¤´å¯¸ã€‚"
        }
      ],
      "é£é™©ç®¡ç†": [
        {
          "level": "é£æ§",
          "topic": "ä¿è¯é‡‘å‹åŠ›",
          "question": "ä½ å–å‡ºäº†è¾ƒå¤šè™šå€¼è®¤æ²½æœŸæƒï¼Œå¸‚åœºå•è¾¹å¤§è·Œã€éšå«æ³¢åŠ¨ç‡é£™å‡ï¼Œä¿è¯é‡‘å ç”¨è¿…é€Ÿä¸Šå‡ã€‚ä¸‹åˆ—å“ªç§è¡Œä¸ºæ›´æ¥è¿‘ç†æ€§é£æ§ï¼Ÿ",
          "options": [
            "ç»§ç»­åŠ å€å–å‡ºæ›´å¤šè®¤æ²½ï¼Œæ‘Šä½æˆæœ¬",
            "ç›´æ¥æ— è§†é£é™©ï¼Œç­‰åˆ¸å•†æˆ–æœŸè´§å…¬å¸æ¥ç”µè¯æé†’",
            "ä¸»åŠ¨å‡ä»“ã€ç”¨ä¿æŠ¤æ€§ä¹°æ–¹è…¿æŠŠè£¸å–å˜æˆä»·å·®ã€æˆ–è¡¥å……åˆç†ä¿è¯é‡‘ï¼Œä¼˜å…ˆæ§åˆ¶çˆ†ä»“é£é™©",
            "ç«‹åˆ»æŠŠæ‰€æœ‰èµ„é‡‘è½¬å»ä¹°è‚¡ç¥¨"
          ],
          "answer": 2,
          "explanation": "å–æ–¹ç­–ç•¥åœ¨æç«¯è¡Œæƒ…ä¸‹ä¿è¯é‡‘å‹åŠ›ä¼šéå¸¸å¤§ï¼Œç†æ€§åšæ³•æ˜¯æ§åˆ¶æ•å£ï¼šå‡ä»“ã€åŠ ä¿æŠ¤è…¿å°ä½äºæŸä¸Šé™ã€åˆç†è¡¥å……ä¿è¯é‡‘ï¼Œè€Œä¸æ˜¯â€œæ¢­å“ˆå¯¹å†²â€ã€‚"
        },
        {
          "level": "é£æ§",
          "topic": "äº¤æ˜“æ‰€ä¿è¯é‡‘è§„åˆ™ç›´è§‰",
          "question": "å…³äºå„äº¤æ˜“æ‰€çš„æœŸæƒå–æ–¹ä¿è¯é‡‘è§„åˆ™ï¼Œä¸‹åˆ—å“ªç§ç†è§£æ›´é€‚åˆä½œä¸ºå®æˆ˜ç›´è§‰ï¼Ÿ",
          "options": [
            "ä¿è¯é‡‘æ˜¯å›ºå®šä¸å˜çš„ï¼Œä¸ä¼šéšè¡Œæƒ…å˜åŒ–",
            "ä¸åŒäº¤æ˜“æ‰€ã€ä¸åŒå“ç§æœ‰ä¸åŒçš„é£æ§å‚æ•°ï¼Œä½†å…±åŒç›®æ ‡éƒ½æ˜¯è¦†ç›–æç«¯è¡Œæƒ…ä¸‹çš„æ½œåœ¨é£é™©",
            "åªæœ‰è‚¡æŒ‡æœŸæƒæ‰æ”¶ä¿è¯é‡‘ï¼Œå•†å“æœŸæƒä¸æ”¶",
            "ä¿è¯é‡‘å¤šå°‘å®Œå…¨ç”±å®¢æˆ·ç»ç†æ‹è„‘è¢‹å†³å®š"
          ],
          "answer": 1,
          "explanation": "å…·ä½“å…¬å¼å„ä¸ç›¸åŒï¼Œä½†æ ¸å¿ƒåŸåˆ™ç±»ä¼¼ï¼šè€ƒè™‘æ ‡çš„ä»·æ ¼ã€æ³¢åŠ¨ç‡ã€å‰©ä½™æœŸé™ã€åˆçº¦æ–¹å‘ç­‰å› ç´ ï¼Œä¼°ç®—åœ¨ä¸€å®šæç«¯è¡Œæƒ…ä¸‹çš„æ½œåœ¨äºæŸï¼Œè¦æ±‚å–æ–¹å‡†å¤‡è¶³å¤Ÿä¿è¯é‡‘ã€‚"
        },
        {
          "level": "é£æ§",
          "topic": "æ³¢åŠ¨ç‡é™·é˜±",
          "question": "ä»¥ä¸‹å“ªç§æƒ…å½¢æœ€å®¹æ˜“å‡ºç°â€œæ–¹å‘çœ‹å¯¹ä½†è¿˜æ˜¯äºé’±â€çš„å…¸å‹æ³¢åŠ¨ç‡é™·é˜±ï¼Ÿ",
          "options": [
            "åœ¨éšå«æ³¢åŠ¨ç‡éå¸¸é«˜æ—¶è¿½ä¹°çŸ­æœŸæœŸæƒï¼Œä¹‹åæ–¹å‘å¯¹äº†ä½† IV å¿«é€Ÿå›è½",
            "åœ¨éšå«æ³¢åŠ¨ç‡è¾ƒä½æ—¶åˆ†æ‰¹ä¹°å…¥é•¿æœŸæœŸæƒï¼Œä¹‹å IV éœ‡è¡ç•¥å‡",
            "ä¹°å…¥é•¿æœŸæ·±åº¦ä»·å†…æœŸæƒï¼ŒæŒæœ‰æ—¶é—´å¾ˆçŸ­å°±å¹³ä»“",
            "å®Œå…¨ä¹°ç°è´§ï¼Œä¸ç¢°æœŸæƒ"
          ],
          "answer": 0,
          "explanation": "IV åœ¨é«˜ä½æ—¶ï¼ŒæœŸæƒä»·æ ¼ä¸­åŒ…å«å¤§é‡â€œæ³¢åŠ¨ç‡æº¢ä»·â€ï¼Œå¦‚æœåç»­æ³¢åŠ¨ç‡å›è½ï¼Œå“ªæ€•æ ‡çš„æ–¹å‘å¯¹äº†ï¼Œæƒåˆ©é‡‘ä¹Ÿå¯èƒ½å› ä¸º IV ä¸‹è·Œè€Œä¸‹è·Œã€‚"
        },
        {
          "level": "é£æ§",
          "topic": "ä»“ä½ç®¡ç†",
          "question": "å¯¹äºåˆšæ¥è§¦æœŸæƒä¸ä¹…çš„æŠ•èµ„è€…ï¼Œä¸‹åˆ—å“ªç§ä»“ä½å’Œç­–ç•¥é€‰æ‹©æ›´é€‚åˆä½œä¸ºèµ·æ­¥ï¼Ÿ",
          "options": [
            "ä¸€å¼€å§‹å°±ç”¨å¤§éƒ¨åˆ†èµ„é‡‘åšè£¸å–æ–¹ç­–ç•¥ï¼Œé æ”¶æƒåˆ©é‡‘èµšå¿«é’±",
            "ç”¨å°ä»“ä½åšä¹°æ–¹ç­–ç•¥ï¼Œå…ˆç†Ÿæ‚‰æ³¢åŠ¨ç‡ã€æ—¶é—´ä»·å€¼å’Œç»“ç®—è§„åˆ™ï¼Œå†é€æ­¥å°è¯•ç»„åˆå’Œå–æ–¹",
            "åªåšé«˜æ æ†æ—¥å†…çŸ­çº¿ï¼Œå…¨ä»“é¢‘ç¹è¿›å‡º",
            "æŠŠæ‰€æœ‰èµ„é‡‘éƒ½ä¹°å…¥æ·±åº¦è™šå€¼çŸ­æœŸæœŸæƒï¼Œåšæš´æ¶¨"
          ],
          "answer": 1,
          "explanation": "æ–°æ‰‹æ›´é€‚åˆç”¨å°ä»“ä½ä¹°æ–¹ç»ƒä¹ ï¼Œå…ˆç†è§£è§„åˆ™å’Œæ³¢åŠ¨ç‰¹æ€§ï¼›å–æ–¹ç­–ç•¥è™½ç„¶çœ‹èµ·æ¥èƒœç‡é«˜ï¼Œä½†é£æ§è¦æ±‚æ›´é«˜ï¼Œä¸å®œä¸€ä¸Šæ¥å°±é‡ä»“ã€‚"
        }
      ],
      "åŠ¨æ€è°ƒæ•´": [
        {
          "level": "åŠ¨æ€è°ƒæ•´",
          "topic": "åŠ è…¿é”ç›ˆ",
          "question": "ä½ åŸæœ¬æŒæœ‰ä¸€å¼ å¹³å€¼è®¤è´­æœŸæƒï¼Œæ ‡çš„å¤§æ¶¨åæœŸæƒå·²ç»å¤§å¹…æµ®ç›ˆï¼Œä½†ä½ åˆä¸æƒ³å®Œå…¨ç¦»åœºã€‚ä¸‹åˆ—å“ªç§æ˜¯è¾ƒä¸ºå¸¸è§çš„â€œåŠ è…¿é”ç›ˆâ€æ€è·¯ï¼Ÿ",
          "options": [
            "ç«‹å³æŠŠæœŸæƒå¹³ä»“ï¼Œä¹‹åä¸å†å‚ä¸",
            "åœ¨åŸå¤šå¤´è®¤è´­ä¸Šï¼ŒåŠ å–ä¸€å¼ æ›´é«˜æ‰§è¡Œä»·è®¤è´­ï¼Œå°†å•è…¿å˜æˆç‰›å¸‚ä»·å·®",
            "å†ä¹°ä¸€å¼ å¹³å€¼è®¤æ²½æœŸæƒï¼Œæ„æˆè·¨å¼",
            "åŠ ä»“ä¹°å…¥æ›´å¤šåŒæ ·æ‰§è¡Œä»·çš„è®¤è´­"
          ],
          "answer": 1,
          "explanation": "é€šè¿‡åœ¨å·²æœ‰å¤šå¤´ CALL ä¸ŠåŠ å–ä¸€å¼ æ›´é«˜æ‰§è¡Œä»· CALLï¼Œå¯ä»¥ç”¨ç‰›å¸‚ä»·å·®é”å®šä¸€éƒ¨åˆ†å·²æœ‰æµ®ç›ˆï¼ŒåŒæ—¶ä¿ç•™æœ‰é™çš„è¿›ä¸€æ­¥ä¸Šæ¶¨ç©ºé—´ã€‚"
        },
        {
          "level": "åŠ¨æ€è°ƒæ•´",
          "topic": "ç§»ä»“æ»šåŠ¨",
          "question": "å½“ä½ æŒæœ‰æŸä¸ªè¿‘æœˆæœŸæƒç»„åˆï¼Œæ¥è¿‘åˆ°æœŸä½†ä½ ä»æƒ³ä¿æŒç±»ä¼¼å¤´å¯¸ç»“æ„æ—¶ï¼Œä¸‹åˆ—å“ªç§æ“ä½œæ›´æ¥è¿‘â€œç§»ä»“æ»šåŠ¨â€çš„æ€è·¯ï¼Ÿ",
          "options": [
            "å¼ºè¡ŒæŒæœ‰åˆ°æœŸï¼Œä¸åšä»»ä½•æ“ä½œ",
            "æŠŠè¿‘æœˆæœŸæƒå¹³ä»“ï¼ŒåŒæ—¶åœ¨è¿œæœˆå¼€ç«‹ç›¸ä¼¼ç»“æ„ï¼ˆå¦‚ç›¸è¿‘æ‰§è¡Œä»·çš„åŒç±»ç­–ç•¥ï¼‰",
            "åªåœ¨ç°æœ‰åˆçº¦ä¸Šé¢‘ç¹åŠ å‡ä»“ï¼Œä¸è€ƒè™‘è¿œæœˆ",
            "æŠŠæ‰€æœ‰æœŸæƒå¹³æ‰ï¼Œæ”¹æˆåªæŒæœ‰ç°è´§"
          ],
          "answer": 1,
          "explanation": "ç§»ä»“æ»šåŠ¨çš„æ ¸å¿ƒæ˜¯ï¼šåœ¨æ—§åˆçº¦åˆ°æœŸå‰å¹³æ‰æ—§ä»“ï¼Œåœ¨æ–°åˆ°æœŸæœˆä»½ä¸Šé‡å»ºç±»ä¼¼ç»“æ„ï¼Œä»¥å»¶ç»­ç­–ç•¥è€Œéç®€å•â€œç¡¬æ‰›åˆ°æœ€åä¸€å¤©â€ã€‚"
        },
        {
          "level": "åŠ¨æ€è°ƒæ•´",
          "topic": "ä»å®½è·¨åˆ°é“é¹°",
          "question": "ä½ åŸæœ¬å–å‡ºäº†ä¸€ä¸ªå®½è·¨å¼ç»„åˆï¼ˆå–OTM CALL + å–OTM PUTï¼‰ï¼Œæƒåˆ©é‡‘è¿˜ä¸é”™ï¼Œä½†æ‹…å¿ƒæç«¯è¡Œæƒ…é£é™©ã€‚ä¸‹åˆ—å“ªç§è°ƒæ•´æ›´æ¥è¿‘â€œå˜å®½è·¨ä¸ºé“é¹°â€çš„æ“ä½œï¼Ÿ",
          "options": [
            "åœ¨æ›´è¿œä»·ä½å†å„å–å‡ºä¸€ç»„è®¤è´­å’Œè®¤æ²½",
            "åœ¨æ›´è¿œä»·ä½å„ä¹°å…¥ä¸€ç»„è®¤è´­å’Œè®¤æ²½ï¼Œå˜æˆä¸¤ä¸ªä»·å·®ç»„åˆ",
            "å¹³æ‰æ‰€æœ‰ç©ºå¤´è…¿ï¼Œåªä¿ç•™ç°è´§",
            "æ”¹ä¸ºä¹°å…¥è·¨å¼ï¼Œå®Œå…¨åå‘æ“ä½œ"
          ],
          "answer": 1,
          "explanation": "é“é¹° = å–è¿‘ã€ä¹°è¿œï¼Œå–å‡ºä¸€ä¸ªå®½è·¨çš„åŒæ—¶ï¼Œåœ¨æ›´è¿œæ‰§è¡Œä»·ä¹°å…¥ä¸€ä¸ªä¿æŠ¤å®½è·¨ï¼Œä»è€Œé”å®šæœ€å¤§äºæŸï¼ŒæŠŠæ— é™é£é™©å˜æˆæœ‰é™é£é™©ã€‚"
        },
        {
          "level": "åŠ¨æ€è°ƒæ•´",
          "topic": "Gamma Scalping æ€è·¯",
          "question": "åœ¨ç”¨çŸ­æœŸæœŸæƒåš Gamma Scalping æ—¶ï¼Œä¸‹åˆ—å“ªç§ä¹ æƒ¯æ›´ç¬¦åˆåŠ¨æ€è°ƒæ•´çš„ç†å¿µï¼Ÿ",
          "options": [
            "å®Œå…¨ä¸çœ‹ç›˜ï¼Œç­‰åˆ°æœŸå†è¯´",
            "åªåœ¨è¡Œæƒ…ç‰¹åˆ«å‰§çƒˆçš„æŸä¸€ä¸¤å¤©è°ƒä¸€æ¬¡ä»“",
            "æ ¹æ®é¢„è®¾åŒºé—´ï¼Œå½“æ ‡çš„ä»·æ ¼è§¦åŠæŸäº›ä»·ä½æ—¶ï¼Œç”¨å°ä»“ä½å¤šæ¬¡ã€åˆ†æ‰¹åœ°ç”¨ç°è´§/æœŸè´§å¯¹å†² Deltaï¼Œèµšå–æ¥å›æ³¢åŠ¨",
            "åªåœ¨ä¸´è¿‘æ”¶ç›˜çš„æœ€åä¸€åˆ†é’Ÿæ‰è€ƒè™‘å¯¹å†²"
          ],
          "answer": 2,
          "explanation": "Gamma Scalping çš„æ ¸å¿ƒæ˜¯åœ¨é«˜ Gamma åŒºé—´åˆ©ç”¨æ ‡çš„æ¥å›æ³¢åŠ¨ï¼Œé€šè¿‡å¤šæ¬¡å°æ­¥å¯¹å†² Deltaï¼ŒæŠŠæ³¢åŠ¨â€œå˜ç°â€ï¼Œè€Œä¸æ˜¯ä¸€åˆ€å¤§èµŒæˆ–å®Œå…¨ä¸ç®¡ã€‚"
        }
      ]
    };

    // ============== é…ç½®éƒ¨åˆ† ==============
    const CATEGORY_META = {
      "åŸºç¡€é¢˜": {
        desc: "è®¤è´­è®¤æ²½ Â· ä¹°å–åŒæ–¹ Â· æ—¶é—´ä»·å€¼ Â· å¸Œè…Šå­—æ¯ç›´è§‰ç†è§£"
      },
      "ç­–ç•¥é¢˜": {
        desc: "æ¯”ä¾‹/åæ¯”ä¾‹ä»·å·® Â· å¤‡å…‘ Â· ä¿æŠ¤æ€§PUT Â· ç‰›ç†Šä»·å·® Â· å®½è·¨ Â· é“é¹°"
      },
      "å®æˆ˜é¢˜": {
        desc: "é”ç›ˆåˆ© Â· ç§»åŠ¨æ‰§è¡Œä»· Â· Gamma å¯¹å†² Â· è°ƒæ•´ Delta Â· è·Œç ´æ”¯æ’‘å¦‚ä½•æ´»ä¸‹æ¥"
      },
      "å•†å“æœŸæƒ": {
        desc: "æœŸè´§æœŸæƒç‰¹æ€§ Â· ç»“ç®—ä»· vs æ”¶ç›˜ä»· Â· éšå«æ³¢åŠ¨ç‡ä¸å®æˆ˜å½±å“"
      },
      "é£é™©ç®¡ç†": {
        desc: "ä¿è¯é‡‘å‹åŠ› Â· äº¤æ˜“æ‰€ä¿è¯é‡‘è§„åˆ™ç›´è§‰ Â· æ³¢åŠ¨ç‡é™·é˜± Â· ä»“ä½ç®¡ç†"
      },
      "åŠ¨æ€è°ƒæ•´": {
        desc: "åŠ è…¿å‡è…¿ Â· ç§»ä»“æ»šåŠ¨ Â· Gamma Scalping Â· ç”¨æœŸæƒç»“æ„åšåŠ¨æ€è°ƒæ•´"
      }
    };

    const STORAGE_KEY_PREFIX = "optionQuiz_progress_"; // + categoryName

    // ============== çŠ¶æ€å˜é‡ ==============
    let allQuestions = QUESTION_BANK; // ç›´æ¥ä½¿ç”¨å†…ç½®é¢˜åº“
    let currentCategory = null;  // string
    let currentMode = null;      // "challenge" or "practice"

    let currentIndex = 0;        // é—¯å…³æ¨¡å¼ä¸‹çš„é¢˜å·
    let score = 0;
    let questionOrder = [];      // é—¯å…³æ¨¡å¼ä¸‹çš„é¢˜ç›®é¡ºåºï¼ˆç´¢å¼•æ•°ç»„ï¼‰

    // ============== DOM ==============
    const modeScreen = document.getElementById("mode-screen");
    const challengeCategoryList = document.getElementById("challenge-category-list");
    const practiceCategoryList = document.getElementById("practice-category-list");

    const gameScreen = document.getElementById("game-screen");
    const modeTag = document.getElementById("mode-tag");
    const categoryTag = document.getElementById("category-tag");
    const questionCounter = document.getElementById("question-counter");
    const scoreArea = document.getElementById("score-area");
    const scoreText = document.getElementById("score-text");
    const totalText = document.getElementById("total-text");
    const progressInner = document.getElementById("progress-inner");

    const questionMeta = document.getElementById("question-meta");
    const questionText = document.getElementById("question-text");
    const optionsBox = document.getElementById("options");
    const feedback = document.getElementById("feedback");

    const backBtn = document.getElementById("back-btn");
    const restartCategoryBtn = document.getElementById("restart-category-btn");
    const nextBtn = document.getElementById("next-btn");

    const endScreen = document.getElementById("end-screen");
    const finalScore = document.getElementById("final-score");

    // ============== å·¥å…·å‡½æ•° ==============
    function shuffleArray(arr) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function saveProgress(category, data) {
      const key = STORAGE_KEY_PREFIX + category;
      localStorage.setItem(key, JSON.stringify(data));
    }

    function loadProgress(category) {
      const key = STORAGE_KEY_PREFIX + category;
      const raw = localStorage.getItem(key);
      if (!raw) return null;
      try {
        return JSON.parse(raw);
      } catch (e) {
        return null;
      }
    }

    function clearProgress(category) {
      const key = STORAGE_KEY_PREFIX + category;
      localStorage.removeItem(key);
    }

    // æ¸²æŸ“æ¨¡å¼é€‰æ‹©ç•Œé¢çš„åˆ†ç±»åˆ—è¡¨
    function renderCategoryLists() {
      const categories = Object.keys(CATEGORY_META);

      categories.forEach(cat => {
        const meta = CATEGORY_META[cat] || {};
        const questions = allQuestions[cat] || [];
        const count = questions.length;

        // é—¯å…³æ¨¡å¼åˆ—è¡¨
        const row1 = document.createElement("div");
        row1.className = "cat-row";

        const info1 = document.createElement("div");
        info1.className = "cat-info";
        const title1 = document.createElement("div");
        title1.className = "cat-title";
        title1.textContent = cat;
        const desc1 = document.createElement("div");
        desc1.className = "cat-desc";
        const progress = loadProgress(cat);
        let progressText = "";
        if (progress && progress.mode === "challenge") {
          const totalQ = (allQuestions[cat] || []).length;
          const idx = Math.min(progress.currentIndex + 1, totalQ);
          progressText = `å½“å‰è¿›åº¦ï¼šç¬¬ ${idx} é¢˜ / å…± ${totalQ} é¢˜`;
        } else {
          progressText = `é¢˜ç›®æ•°é‡ï¼š${count} é¢˜`;
        }
        desc1.textContent = progressText;
        info1.appendChild(title1);
        info1.appendChild(desc1);

        const btnGroup1 = document.createElement("div");
        btnGroup1.className = "btn-group";

        if (progress && progress.mode === "challenge" && progress.currentIndex < count) {
          const contBtn = document.createElement("button");
          contBtn.className = "btn-primary";
          contBtn.textContent = "ç»§ç»­é—¯å…³";
          contBtn.onclick = () => startChallenge(cat, true);
          btnGroup1.appendChild(contBtn);
        }

        const startBtn = document.createElement("button");
        startBtn.className = "btn-secondary";
        startBtn.textContent = "é‡æ–°å¼€å§‹";
        startBtn.onclick = () => startChallenge(cat, false);
        btnGroup1.appendChild(startBtn);

        row1.appendChild(info1);
        row1.appendChild(btnGroup1);
        challengeCategoryList.appendChild(row1);

        // è‡ªç”±ç»ƒä¹ åˆ—è¡¨
        const row2 = document.createElement("div");
        row2.className = "cat-row";

        const info2 = document.createElement("div");
        info2.className = "cat-info";
        const title2 = document.createElement("div");
        title2.className = "cat-title";
        title2.textContent = cat;
        const desc2 = document.createElement("div");
        desc2.className = "cat-desc";
        desc2.textContent = meta.desc || "";
        info2.appendChild(title2);
        info2.appendChild(desc2);

        const btnGroup2 = document.createElement("div");
        btnGroup2.className = "btn-group";
        const practiceBtn = document.createElement("button");
        practiceBtn.className = "btn-primary";
        practiceBtn.textContent = "å¼€å§‹ç»ƒä¹ ";
        practiceBtn.onclick = () => startPractice(cat);
        btnGroup2.appendChild(practiceBtn);

        row2.appendChild(info2);
        row2.appendChild(btnGroup2);
        practiceCategoryList.appendChild(row2);
      });
    }

    // ============== æ¨¡å¼å¯åŠ¨ ==============
    function startChallenge(category, resume) {
      const questions = allQuestions[category] || [];
      if (!questions.length) {
        alert("è¯¥åˆ†ç±»æš‚æ—¶æ²¡æœ‰é¢˜ç›®ï¼Œè¯·å…ˆåœ¨ QUESTION_BANK ä¸­æ·»åŠ ã€‚");
        return;
      }

      currentMode = "challenge";
      currentCategory = category;
      endScreen.classList.add("hidden");

      // è¯»å–æˆ–é‡ç½®è¿›åº¦
      if (resume) {
        const saved = loadProgress(category);
        if (saved && saved.mode === "challenge") {
          currentIndex = saved.currentIndex || 0;
          score = saved.score || 0;
          questionOrder = saved.order || questions.map((_, idx) => idx);
        } else {
          resetChallengeState();
        }
      } else {
        if (loadProgress(category)) {
          const ok = confirm("ç¡®å®šè¦æ¸…ç©ºæœ¬åˆ†ç±»çš„å†å²è¿›åº¦ï¼Œä»å¤´å¼€å§‹é—¯å…³å—ï¼Ÿ");
          if (!ok) return;
        }
        resetChallengeState();
      }

      // åˆ‡æ¢ç•Œé¢
      modeScreen.classList.add("hidden");
      gameScreen.classList.remove("hidden");
      scoreArea.style.display = "block";
      modeTag.textContent = "é—¯å…³æ¨¡å¼";
      categoryTag.textContent = category;

      totalText.textContent = questionOrder.length;
      scoreText.textContent = score;

      showCurrentQuestion();
    }

    function resetChallengeState() {
      const questions = allQuestions[currentCategory] || [];
      currentIndex = 0;
      score = 0;
      // é—¯å…³æ¨¡å¼ï¼šéšæœºæ’åˆ—é¢˜ç›®é¡ºåºå¹¶ä¿å­˜
      questionOrder = shuffleArray(questions.map((_, idx) => idx));
      saveProgress(currentCategory, {
        mode: "challenge",
        currentIndex,
        score,
        order: questionOrder
      });
    }

    function startPractice(category) {
      const questions = allQuestions[category] || [];
      if (!questions.length) {
        alert("è¯¥åˆ†ç±»æš‚æ—¶æ²¡æœ‰é¢˜ç›®ï¼Œè¯·å…ˆåœ¨ QUESTION_BANK ä¸­æ·»åŠ ã€‚");
        return;
      }

      currentMode = "practice";
      currentCategory = category;
      currentIndex = -1; // ç”¨éšæœºæŠ½é¢˜ï¼Œä¸ç”¨é¡ºåºç´¢å¼•
      score = 0;
      questionOrder = [];

      modeScreen.classList.add("hidden");
      gameScreen.classList.remove("hidden");
      scoreArea.style.display = "none"; // è‡ªç”±ç»ƒä¹ ä¸è®¡åˆ†
      modeTag.textContent = "è‡ªç”±ç»ƒä¹ ";
      categoryTag.textContent = category;

      progressInner.style.width = "0%";
      totalText.textContent = questions.length;
      questionCounter.textContent = "";
      endScreen.classList.add("hidden");

      showNextPracticeQuestion();
    }

    // ============== æ˜¾ç¤ºé¢˜ç›® ==============
    function showCurrentQuestion() {
      const questions = allQuestions[currentCategory] || [];
      if (currentMode === "challenge") {
        if (currentIndex >= questionOrder.length) {
          // é—¯å…³ç»“æŸ
          handleChallengeEnd();
          return;
        }
        const qIndex = questionOrder[currentIndex];
        const q = questions[qIndex];
        renderQuestion(q, currentIndex + 1, questionOrder.length);
        const progress = ((currentIndex) / questionOrder.length) * 100;
        progressInner.style.width = progress.toFixed(1) + "%";
      }
    }

    function showNextPracticeQuestion() {
      const questions = allQuestions[currentCategory] || [];
      if (!questions.length) return;
      const randomIndex = Math.floor(Math.random() * questions.length);
      const q = questions[randomIndex];

      // è‡ªç”±ç»ƒä¹ æ˜¾ç¤ºå·²åšé¢˜æ•°ï¼ˆä¸è®¡åˆ†ï¼‰
      if (currentIndex < 0) currentIndex = 0;
      else currentIndex += 1;

      renderQuestion(q, currentIndex, 0); // total=0 è¡¨ç¤ºè‡ªç”±ç»ƒä¹ 
      progressInner.style.width = "0%";
    }

    function renderQuestion(q, number, total) {
      feedback.textContent = "";
      feedback.className = "";
      nextBtn.disabled = true;
      endScreen.classList.add("hidden");

      if (currentMode === "challenge") {
        questionCounter.textContent = `ç¬¬ ${number} é¢˜ / å…± ${total} é¢˜`;
      } else {
        questionCounter.textContent = `å·²ç»ƒä¹  ${number} é¢˜`;
      }

      const tags = [];
      if (q.level) tags.push(q.level);
      if (q.topic) tags.push(q.topic);
      questionMeta.textContent = tags.length ? `æ ‡ç­¾ï¼š${tags.join(" Â· ")}` : "";

      questionText.textContent = q.question;
      optionsBox.innerHTML = "";

      (q.options || []).forEach((opt, idx) => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        const label = ["A", "B", "C", "D"][idx] || "?";
        btn.textContent = label + "ï¼" + opt;
        btn.onclick = () => handleAnswer(q, idx, btn);
        optionsBox.appendChild(btn);
      });
    }

    function handleAnswer(q, selectedIndex, clickedBtn) {
      const buttons = optionsBox.querySelectorAll(".option-btn");
      buttons.forEach(btn => btn.classList.add("disabled"));

      const correctIndex = q.answer;

      buttons.forEach((btn, idx) => {
        if (idx === correctIndex) btn.classList.add("correct");
        if (idx === selectedIndex && idx !== correctIndex) btn.classList.add("wrong");
      });

      if (selectedIndex === correctIndex) {
        if (currentMode === "challenge") {
          score += 1;
          scoreText.textContent = score;
        }
        feedback.className = "correct";
        feedback.innerHTML = `<span class="tag tag-correct">å›ç­”æ­£ç¡® âœ“</span>${q.explanation || ""}`;
      } else {
        feedback.className = "wrong";
        const correctText = (q.options && q.options[correctIndex]) || "";
        feedback.innerHTML =
          `<span class="tag tag-wrong">å›ç­”é”™è¯¯ âœ—</span>` +
          `æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š<b>${["A","B","C","D"][correctIndex] || ""}</b>ï¼${correctText}<br>` +
          (q.explanation || "");
      }

      nextBtn.disabled = false;

      // é—¯å…³æ¨¡å¼ä¸‹ä¿å­˜è¿›åº¦
      if (currentMode === "challenge") {
        saveProgress(currentCategory, {
          mode: "challenge",
          currentIndex,
          score,
          order: questionOrder
        });
      }
    }

    // ============== æŒ‰é’®æ“ä½œ ==============
    nextBtn.addEventListener("click", () => {
      if (currentMode === "challenge") {
        currentIndex += 1;
        showCurrentQuestion();
      } else if (currentMode === "practice") {
        showNextPracticeQuestion();
      }
    });

    backBtn.addEventListener("click", () => {
      gameScreen.classList.add("hidden");
      modeScreen.classList.remove("hidden");
      challengeCategoryList.innerHTML = "";
      practiceCategoryList.innerHTML = "";
      renderCategoryLists(); // æ›´æ–°è¿›åº¦æ˜¾ç¤º
    });

    restartCategoryBtn.addEventListener("click", () => {
      if (!currentCategory) return;
      if (currentMode === "challenge") {
        const ok = confirm("ç¡®å®šè¦é‡ç½®æœ¬åˆ†ç±»çš„é—¯å…³è¿›åº¦ï¼Œä»å¤´å¼€å§‹ï¼Ÿ");
        if (!ok) return;
        clearProgress(currentCategory);
        startChallenge(currentCategory, false);
      } else {
        // è‡ªç”±ç»ƒä¹ é‡æ¥å°±æ˜¯é‡æ–°è®¡æ•° & å†æŠ½é¢˜
        currentIndex = 0;
        showNextPracticeQuestion();
      }
    });

    function handleChallengeEnd() {
      // é—¯å…³ç»“æŸï¼Œæ¸…é™¤è¿›åº¦
      clearProgress(currentCategory);
      progressInner.style.width = "100%";
      questionText.textContent = "æœ¬åˆ†ç±»æ‰€æœ‰é¢˜ç›®å·²ç­”å®Œã€‚";
      optionsBox.innerHTML = "";
      feedback.textContent = "";
      nextBtn.disabled = true;

      endScreen.classList.remove("hidden");
      const total = questionOrder.length;
      const percent = total ? ((score / total) * 100).toFixed(1) : 0;
      finalScore.textContent = `æœ¬æ¬¡å¾—åˆ†ï¼š${score} / ${total}ï¼Œæ­£ç¡®ç‡çº¦ ${percent}%ã€‚`;
    }

    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    window.addEventListener("load", () => {
      renderCategoryLists();
    });
  </script>
</body>
</html>
